<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../css/header.css">
  <link rel="stylesheet" href="../css/nav.css">
  <link rel="stylesheet" href="../css/user_table.css">
  <link rel="stylesheet" href="../css/setting.css">
  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="../ckeditor/ckeditor.js"></script>

  <title>나눔마트-관리자</title>
</head>

<body>
  <header class="header"></header>
  <nav class="nav"> </nav>
  <section class="section">
    <div class="section_wrap">
      <h1>고객관리</h1>
      <table>
        <thead>
          <tr>
            <td colspan="8">
              <span>
                <p class="remove_btn">삭제</p>
              </span>
            </td>
          </tr>
          <tr>
            <th><input type="checkbox" name="all_check" id="all_check"></th>
            <th>이름</th>
            <th>아이디</th>
            <th>가입날짜</th>
            <th>휴대전화</th>
            <th>주소</th>
            <th>메일</th>
            <th>주문내역보기</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check4">
            </td>
            <td>이름</td>
            <td>
              <p class="item_name">아이디</p>
            </td>
            <td>가입일</td>
            <td>010-2240-5498</td>
            <td></td>
            <td></td>
            <td>
              <a href="">주문</a>
            </td>
          </tr>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check4">
            </td>
            <td>이름</td>
            <td>
              <p class="item_name">아이디</p>
            </td>
            <td>가입일</td>
            <td>010-2240-5498</td>
            <td></td>
            <td></td>
            <td>
              <a href="">주문</a>
            </td>
          </tr>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check4">
            </td>
            <td>이름</td>
            <td>
              <p class="item_name">아이디</p>
            </td>
            <td>가입일</td>
            <td>010-2240-5498</td>
            <td></td>
            <td></td>
            <td>
              <a href="">주문</a>
            </td>
          </tr>
        </tbody>
      </table>
      <div class="paging_box">
        <span class="prev"><img src="../img/paging_left.png" alt="왼쪽 화살표"></span>
        <span class="page_num_box">
          <p class="page_num">1</p>
        </span>
        <span class="next"><img src="../img/paging_right.png" alt="오른쪽 화살표"></span>
      </div>
    </div>
    </div>
  </section>
  <footer class="footer"></footer>
  <script>
    $(".header").load("header.html");
    $(".nav").load("nav.html");
    $(function () {
      var allCheck = $("#all_check");
      var nomalCheck = $("input[name='check']");
      var checkedCount = $("input[name='check']:checked");

      //data-val 삽입
      for (var i = 0; i < nomalCheck.length; i++) {
        nomalCheck.eq(i).attr("data-value", i + 1);
      }

      // all 체크시 모두 체크
      allCheck.click(function () {
        if (allCheck.prop("checked")) {
          nomalCheck.prop("checked", true);
        } else {
          nomalCheck.prop("checked", false);
        }
      });

      //모두 체크시 all 체크 기능
      nomalCheck.click(function () {
        checkedCount = $("input[name='check']:checked");
        if (checkedCount.length == nomalCheck.length) {
          allCheck.prop("checked", true);
        } else {
          allCheck.prop("checked", false);
        }
      });

      // 삭제버튼 누르면 체크된넘 data-value
      var removeBtn = $('.remove_btn');
      removeBtn.click(function () {
        checkedCount = $("input[name='check']:checked");
        for (var i = 0; i < checkedCount.length; i++) {
          console.log(checkedCount.eq(i).attr('data-value'));
        }
      })
    });
  </script>
</body>

</html>
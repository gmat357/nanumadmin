<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="../css/header.css">
  <link rel="stylesheet" href="../css/nav.css">
  <link rel="stylesheet" href="../css/item_list.css">
  <link rel="stylesheet" href="../css/setting.css">
  <script type="text/javascript" src="//code.jquery.com/jquery-1.11.0.min.js"></script>
  <script src="../ckeditor/ckeditor.js"></script>

  <title>나눔마트-관리자</title>
</head>

<body>
  <header class="header"></header>
  <nav class="nav"> </nav>
  <section class="section">
    <div class="section_wrap">
      <h1>상품목록</h1>
      <table>
        <thead>
          <tr>
            <td colspan="7">
              <span>
                <p class="remove_btn">삭제</p>
                <a href="" class="add_item_btn">상품등록</a>
              </span>
            </td>
          </tr>
          <tr>
            <th><input type="checkbox" name="all_check" id="all_check"></th>
            <th>상품명</th>
            <th>판매가</th>
            <th>원산지</th>
            <th>제품규격</th>
            <th>상품분류</th>
            <th></th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check1">
            </td>
            <td class="item_title">
              <span>
                <img src="../img/no_img.png" alt="">
                <p class="item_name">상품명</p>
              </span>
            </td>
            <td>0원</td>
            <td>중국</td>
            <td>3kg</td>
            <td>메뉴1</td>
            <td>
              <a href="">수정</a>
            </td>
          </tr>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check2">
            </td>
            <td class="item_title">
              <span>
                <img src="../img/no_img.png" alt="">
                <p class="item_name">상품명</p>
              </span>
            </td>
            <td>0원</td>
            <td>중국</td>
            <td>3kg</td>
            <td>메뉴1</td>
            <td>
              <a href="">수정</a>
            </td>
          </tr>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check3">
            </td>
            <td class="item_title">
              <span>
                <img src="../img/no_img.png" alt="">
                <p class="item_name">상품명</p>
              </span>
            </td>
            <td>0원</td>
            <td>중국</td>
            <td>3kg</td>
            <td>메뉴1</td>
            <td>
              <a href="">수정</a>
            </td>
          </tr>
          <tr>
            <td>
              <input type="checkbox" name="check" id="check4">
            </td>
            <td class="item_title">
              <span>
                <img src="../img/no_img.png" alt="">
                <p class="item_name">상품명</p>
              </span>
            </td>
            <td>0원</td>
            <td>중국</td>
            <td>3kg</td>
            <td>메뉴1</td>
            <td>
              <a href="">수정</a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </section>
  <footer class="footer"></footer>
  <script>
    $(".header").load("header.html");
    $(".nav").load("nav.html");
    $(function () {
      var allCheck = $("#all_check");
      var nomalCheck = $("input[name='check']");
      var checkedCount = $("input[name='check']:checked");

      //data-val 삽입
      for (var i = 0; i < nomalCheck.length; i++) {
        nomalCheck.eq(i).attr("data-value", i + 1);
      }

      // all 체크시 모두 체크
      allCheck.click(function () {
        if (allCheck.prop("checked")) {
          nomalCheck.prop("checked", true);
        } else {
          nomalCheck.prop("checked", false);
        }
      });

      //모두 체크시 all 체크 기능
      nomalCheck.click(function () {
        checkedCount = $("input[name='check']:checked");
        if (checkedCount.length == nomalCheck.length) {
          allCheck.prop("checked", true);
        } else {
          allCheck.prop("checked", false);
        }
      });

      // 삭제버튼 누르면 체크된넘 data-value
      var removeBtn = $('.remove_btn');
      removeBtn.click(function () {
        checkedCount = $("input[name='check']:checked");
        for (var i = 0; i < checkedCount.length; i++) {
          console.log(checkedCount.eq(i).attr('data-value'));
        }
      })
    });
  </script>
</body>

</html>